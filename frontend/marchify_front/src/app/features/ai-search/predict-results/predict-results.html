<div class="min-h-screen bg-[#faf2b8] py-20">
  <div class="container mx-auto px-6 max-w-7xl">
    
    <!-- Header -->
    <div class="text-center mb-14">
      <h1 class="text-5xl font-extrabold text-[#386641] tracking-tight mb-3 relative inline-block">
        <span class="text-[#386641]">RÃ©sultats de la</span>
        <span class="text-[#F97A00] relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-full after:h-[3px] after:bg-gradient-to-r from-[#386641] to-[#FED16A]">
          PrÃ©diction
        </span>
      </h1>
    </div>

    <!-- Products Section -->
    <h3 class="text-2xl font-bold text-[#386641] mb-6 flex items-center gap-2">
      <span>ðŸ›’</span> Produits correspondants
    </h3>
    
    <p class="text-sm md:text-base text-[#386641] mb-6">
      {{ results.length }} produit{{ results.length !== 1 ? 's' : '' }} disponible{{ results.length !== 1 ? 's' : '' }}
    </p>

    <!-- Products Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      @for (r of results; track $index) {
        <div class="bg-white rounded-lg shadow-md overflow-hidden group hover:shadow-lg transition-all duration-300">
          
          <!-- Image placeholder -->
          <div class="relative h-32 overflow-hidden rounded-t-lg bg-gradient-to-br from-[#386641] to-[#6a994e]">
            <div class="w-full h-full flex items-center justify-center text-white text-4xl">
  <img 
      [src]="r.image" 
      [alt]="r.nom" 
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
    />              
            
            </div>
          </div>

          <!-- Product Info -->
          <div class="p-3 flex flex-col gap-1">
            <h3 class="text-md font-bold text-[#386641] truncate flex items-center gap-1">
              {{ r.nom }}
            </h3>

            <p class="text-xs font-semibold text-black flex items-center gap-1">
              <i class="fas fa-money-bill-wave"></i> {{ r.prix }} DT
            </p>

            <div class="flex items-center gap-2 text-[#386641] text-[10px] font-medium">
              <i class="fa-solid fa-weight-scale w-4 text-center"></i>
              <p>{{ r.unite }}</p>
            </div>

            <!-- Boutique Info -->
            <div class="flex items-center gap-2 text-[#386641] text-[10px] font-medium mt-1">
              <i class="fa-solid fa-store w-4 text-center"></i>
              <p>{{ r.boutique.nom }}</p>
            </div>

            <!-- Distance -->
            <div class="flex items-center gap-2 text-gray-600 text-[10px] font-medium">
              <i class="fa-solid fa-location-dot w-4 text-center"></i>
              <p>{{ r.distanceKm | number: '1.0-0' }} km</p>
            </div>

            <!-- Add to Cart Button -->
            <button 
              class="mt-2 w-full bg-[#386641] text-white py-1.5 rounded-lg font-semibold text-sm hover:bg-[#F97A00] hover:text-white transition-colors flex justify-center items-center gap-1"
                (click)="onAddToCart(r)">
              <i class="fas fa-shopping-cart"></i> Ajouter
            </button>
          </div>

          <!-- Bottom border -->
          <div class="border-b-4 border-[#386641] group-hover:border-[#F97A00] transition-colors duration-300"></div>
        </div>
      }
    </div>

    <!-- Empty State -->
    @if (results.length === 0) {
      <div class="text-center text-[#386641] py-16 bg-white rounded-lg shadow-md">
        <p class="text-xl font-semibold">Aucun produit trouvÃ©.</p>
      </div>
    }

  </div>
</div>