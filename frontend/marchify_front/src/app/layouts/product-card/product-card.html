<div class="p-card bg-white shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 max-w-sm border-zinc-200 border-[1px] min-h-[180px]">
  <div class="p-4 flex gap-4 items-center">
    <!-- Left side - Product info -->
    <div class="flex-1 flex flex-col justify-between w-2/3">
      <!-- Product name -->
      <h3 class="text-sm font-semibold text-gray-800 mb-2 line-clamp-2">
        {{ product.nom }}
      </h3>

      <!-- Boutique ID (temporary until you fetch boutique name) -->
      <div class="flex items-center gap-1 mb-3 text-sm text-gray-600">
        <i class="fas fa-store text-xs"></i>
        <span>Boutique</span>
      </div>

      <!-- Price -->
      <div class="mb-3">
        <span class="text-[#386641] text-md font-bold">{{ product.prix }} TND</span>
        <span class="text-gray-400 text-xs ml-1">{{ product.unite || '/kg' }}</span>
      </div>

      <!-- Action buttons -->
      <div class="flex items-center gap-2 relative">
        <!-- Add to cart button - icon only -->
        <button 
          class="add-to-cart flex items-center justify-center bg-[#386641] text-white rounded-sm w-10 h-10 hover:bg-[#2d5234] transition-all"
          [class.adding]="isAdding" 
          [class.success]="showSuccess" 
          (click)="addToCart()" 
          [disabled]="isAdding"
          title="Ajouter au panier">

          <!-- Default state -->
          <i *ngIf="!isAdding && !showSuccess" class="fas fa-shopping-cart text-sm"></i>

          <!-- Loading state -->
          <span *ngIf="isAdding && !showSuccess" class="loader"></span>

          <!-- Success state -->
          <i *ngIf="showSuccess" class="fas fa-check text-sm"></i>
        </button>

        <!-- Details button - icon only -->
        <a [routerLink]="['/produit', product.id]">
          <button 
            class="flex items-center justify-center border border-gray-300 rounded-sm w-10 h-10 hover:bg-gray-50 hover:border-gray-400 transition-all"
            title="Voir dÃ©tails">
            <i class="fas fa-eye text-sm text-gray-700"></i>
          </button>
        </a>

        <!-- Flying cart icon animation -->
        <i *ngIf="isAdding" class="fas fa-shopping-cart flying-cart"></i>
      </div>
    </div>

    <!-- Right side - Product image -->
    <div class="w-1/3 h-32 flex-shrink-0">
      <img 
        [src]="product.image || 'assets/placeholder.png'" 
        [alt]="product.nom" 
        class="w-full h-full object-cover rounded" />
    </div>
  </div>
</div>
