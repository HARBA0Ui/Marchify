<!-- Hero Section --> 
<div class="min-h-screen bg-[#faf2b8] py-20">
    <div class="container mx-auto px-6 max-w-7xl">
      <div class="text-center mb-14">
        <h1
          class="text-5xl font-extrabold text-[#386641] tracking-tight mb-3 relative inline-block"
        >
          <span class="text-[#386641]">Nos</span>
          <span
            class="text-[#F97A00] relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-full after:h-[3px] after:bg-gradient-to-r from-[#386641] to-[#FED16A]"
            >Produits</span
          >
        </h1>
        <p class="text-base text-[#386641] max-w-2xl mx-auto">
          Découvrez nos boutiques partenaires et explorez leurs univers uniques.
        </p>
        <p class="text-sm md:text-base">
    {{ filteredProducts.length }} produit{{ filteredProducts.length !== 1 ? 's' : '' }} disponible{{ filteredProducts.length !== 1 ? 's' : '' }}
  </p>
      </div>

<div class="container mx-auto px-4 max-w-7xl  ">
  <div class="mb-8 flex flex-wrap gap-3 justify-center">

    <!-- Catégorie -->
    <select 
      [(ngModel)]="selectedCategory" 
      (change)="applyFilters()"
      class="border bg-white border-gray-300 rounded-lg px-3 py-2 text-sm"
    >
      <option value="">Toutes les catégories</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>

    <!-- Livraison -->
    <select 
      [(ngModel)]="deliveryFilter" 
      (change)="applyFilters()"
      class="border  bg-white border-gray-300 rounded-lg px-3 py-2 text-sm"
    >
      <option value="all">Tous les produits</option>
      <option value="livrable">Livrables uniquement</option>
      <option value="non-livrable">Non livrables uniquement</option>
    </select>

    <!-- Tri -->
    <select 
      [(ngModel)]="sortBy" 
      (change)="applySorting()"
      class="border  bg-white border-gray-300 rounded-lg px-3 py-2 text-sm"
    >
      <option value="name">Nom (A-Z)</option>
      <option value="price-asc">Prix croissant</option>
      <option value="price-desc">Prix décroissant</option>
    </select>

    <!-- Bouton Reset -->
    <button 
      (click)="clearFilters()" 
      class="bg-[#F97A00] text-white rounded-lg px-4 py-2 text-sm font-semibold"
    >
      Réinitialiser
    </button>

  </div>

  <!-- Produits -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
    @for (product of filteredProducts; track product.id) {
      <app-product-card
        [product]="product"
        (addToCartEvent)="onAddToCart($event)"
        (viewDetailsEvent)="onViewDetails($event)"
      ></app-product-card>
    }
  </div>

  <!-- Empty State -->
  @if (filteredProducts.length === 0 && !isLoading) {
    <div class="text-center text-gray-600 py-16">
      Aucun produit trouvé.
    </div>
  }

  <!-- Loading -->
  @if (isLoading) {
    <div class="text-center text-gray-600 py-16">
      Chargement des produits...
    </div>
  }
</div>


