<!-- Hero Section --> 
<div class="min-h-screen bg-[#faf2b8] py-20">
    <div class="container mx-auto px-6 max-w-7xl">
      <div class="text-center mb-14">
        <h1
          class="text-5xl font-extrabold text-[#386641] tracking-tight mb-3 relative inline-block"
        >
          <span class="text-[#386641]">Nos</span>
          <span
            class="text-[#F97A00] relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-full after:h-[3px] after:bg-gradient-to-r from-[#386641] to-[#FED16A]"
            >Produits</span
          >
        </h1>
        <p class="text-base text-[#386641] max-w-2xl mx-auto">
          Découvrez nos boutiques partenaires et explorez leurs univers uniques.
        </p>
        <p class="text-sm md:text-base">
    {{ filteredProducts.length }} produit{{ filteredProducts.length !== 1 ? 's' : '' }} disponible{{ filteredProducts.length !== 1 ? 's' : '' }}
  </p>
      </div>

<div class="container mx-auto px-4 max-w-7xl  ">
  <div class="mb-8 flex flex-wrap gap-3 justify-center">

    <!-- Catégorie -->
    <select 
      [(ngModel)]="selectedCategory" 
      (change)="applyFilters()"
      class="border bg-white border-gray-300 rounded-lg px-3 py-2 text-sm"
    >
      <option value="">Toutes les catégories</option>
      <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
    </select>

    <!-- Livraison -->
    <select 
      [(ngModel)]="deliveryFilter" 
      (change)="applyFilters()"
      class="border  bg-white border-gray-300 rounded-lg px-3 py-2 text-sm"
    >
      <option value="all">Tous les produits</option>
      <option value="livrable">Livrables uniquement</option>
      <option value="non-livrable">Non livrables uniquement</option>
    </select>

    <!-- Tri -->
    <select 
      [(ngModel)]="sortBy" 
      (change)="applySorting()"
      class="border  bg-white border-gray-300 rounded-lg px-3 py-2 text-sm"
    >
      <option value="name">Nom (A-Z)</option>
      <option value="price-asc">Prix croissant</option>
      <option value="price-desc">Prix décroissant</option>
    </select>

    <!-- Bouton Reset -->
    <button 
      (click)="clearFilters()" 
      class="bg-[#F97A00] text-white rounded-lg px-4 py-2 text-sm font-semibold"
    >
      Réinitialiser
    </button>

  </div>

  <!-- Produits -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
    @for (product of filteredProducts; track product.id) {
      <app-product-card
        [product]="product"
        (addToCartEvent)="onAddToCart($event)"
        (viewDetailsEvent)="onViewDetails($event)"
      ></app-product-card>
    }
  </div>

  <!-- Empty State -->
  @if (filteredProducts.length === 0 && !isLoading) {
    <div class="text-center text-gray-600 py-16">
      Aucun produit trouvé.
    </div>
  }

  <!-- Loading -->
  @if (isLoading) {
    <div class="text-center text-gray-600 py-16">
      Chargement des produits...
    </div>
  }
</div>
<!-- Floating Action Button (FAB) - AI Predict -->
<div class="fixed bottom-6 left-6 z-50">
  
  <!-- Animated rings -->
  <div class="absolute inset-0 rounded-full bg-[#386641] opacity-20 animate-ping"></div>
  <div class="absolute inset-0 rounded-full bg-[#F97A00] opacity-10 animate-pulse"></div>
  
  <!-- Main FAB Button -->
  <button
    routerLink="/ai-search/upload-predict"
    class="relative w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-[#386641] to-[#6a994e] flex items-center justify-center shadow-2xl cursor-pointer hover:scale-110 transition-all duration-300 group hover:shadow-[#F97A00]/50"
    title="Recherche par IA"
  >
    <!-- AI Brain Icon -->
    <div class="relative">
      <i class="fas fa-brain text-white text-2xl md:text-3xl"></i>
      
      <!-- Camera badge -->
      <div class="absolute -bottom-1 -right-1 w-5 h-5 md:w-6 md:h-6 bg-[#F97A00] rounded-full flex items-center justify-center border-2 border-white">
        <i class="fas fa-camera text-white text-[8px] md:text-[10px]"></i>
      </div>
    </div>
    
    <!-- Sparkle effect -->
    <div class="absolute -top-1 -right-1 text-yellow-300 animate-pulse">
      <i class="fas fa-sparkles text-xs"></i>
    </div>
  </button>
  
  <!-- Tooltip (optional) -->
  <div class="absolute left-full ml-3 top-1/2 -translate-y-1/2 bg-[#386641] text-white px-3 py-2 rounded-lg text-sm font-semibold whitespace-nowrap opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity shadow-lg">
    Recherche IA
    <div class="absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-[#386641]"></div>
  </div>
  
</div>



