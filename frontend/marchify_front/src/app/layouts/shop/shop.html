@if (isLoading) {
<div class="bg-[#f5f0d4] flex items-center justify-center h-screen">
  <div class="text-center">
    <div class="w-12 h-12 border-4 border-gray-300 border-t-[#F97A00] rounded-full animate-spin mx-auto mb-2"></div>
    <p class="text-[#386641] text-sm"><i class="fas fa-spinner fa-spin mr-1"></i>Chargement...</p>
  </div>
</div>
}

@else if (shop) {
<div class="min-h-screen bg-[#f5f0d4] pt-10 pb-6">
  <div class="container mx-auto px-3 max-w-6xl">

    <a routerLink="/shop-list" class="inline-flex items-center text-[#386641] text-sm font-medium hover:underline mb-3">
      <i class="fas fa-arrow-left mr-1"></i>Retour
    </a>
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-3">

      <div class="lg:col-span-1 bg-white rounded-lg shadow-sm p-4 border-t-4 border-[#386641]">
        <h1 class="text-base font-bold text-[#386641] mb-1 flex items-center gap-1">
          <i class="fas fa-store text-sm"></i>{{ shop.nom }}
        </h1>
        <span
          class="inline-block text-[9px] bg-[#F97A00]/10 text-[#F97A00] px-2 py-1 rounded font-medium uppercase mb-2">
          {{ shop.categorie }}
        </span>

        <div class="space-y-2 text-sm text-black-700 mb-3">
          <div>
            <p class="text-gray-500 mb-0.5 flex items-center gap-1">
              <i class="fas fa-map-marker-alt text-[10px] text-[#386641]"></i>Adresse
            </p>
            <p class="font-medium">{{ shop.adresse }}</p>
          </div>
          <div>
            <p class="text-gray-500 mb-0.5 flex items-center gap-1">
              <i class="fas fa-phone text-[10px] text-[#F97A00]"></i>Téléphone
            </p>
            <p class="font-medium">{{ shop.telephone }}</p>
          </div>
          <div>
            <p class="text-gray-500 mb-0.5 flex items-center gap-1">
              <i class="fas fa-boxes text-[10px] text-[#386641]"></i>Produits
            </p>
            <p class="font-medium">{{ shop.produits?.length || 0 }} produit{{ (shop.produits?.length || 0) !== 1 ? 's' :
              '' }}</p>
          </div>
        </div>

        <div class="space-y-2">
          <button (click)="callShop()"
            class="w-full bg-[#F97A00] text-white text-sm font-medium py-2 rounded flex items-center justify-center gap-1 hover:bg-[#FED16A] hover:text-[#386641] transition-all">
            <i class="fas fa-phone-alt text-[10px]"></i> Appeler
          </button>
          <button (click)="openMap()"
            class="w-full bg-[#386641] text-white text-sm font-medium py-2 rounded flex items-center justify-center gap-1 hover:bg-[#FED16A] hover:text-[#386641] transition-all">
            <i class="fas fa-map-marked-alt text-[10px]"></i> Localiser
          </button>
        </div>
      </div>

      <div class="lg:col-span-3">
        <h2 class="text-lg font-bold text-[#386641] mb-3 flex items-center gap-1">
          <i class="fas fa-boxes text-sm"></i> Produits
        </h2>
        <app-product-byshop-list [boutiqueId]="shopId"></app-product-byshop-list>
      </div>

    </div>
  </div>
  

</div>
}

@else {
<div class="min-h-screen bg-[#f5f0d4] flex items-center justify-center">
  <div class="text-center px-4">
    <h2 class="text-base font-bold text-[#386641] mb-1 flex items-center gap-1">
      <i class="fas fa-exclamation-triangle text-sm"></i>Boutique introuvable
    </h2>
    <p class="text-[#386641] text-sm mb-3">Cette boutique n'existe pas</p>
    <a routerLink="/shop-list"
      class="inline-flex items-center gap-1 bg-[#F97A00] text-white text-sm font-medium px-4 py-2 rounded hover:bg-[#e86900] transition-colors">
      <i class="fas fa-arrow-left text-sm"></i> Retour
    </a>
  </div>
</div>
}